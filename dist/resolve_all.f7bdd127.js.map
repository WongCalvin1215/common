{"version":3,"sources":["src/functions/common.js","src/resolve_all.js"],"names":["_config","lang","Common","days","hours","minutes","config","is_number","value","direction","add_subtract","input","Object","prototype","toString","call","Promise","resolve","setTimeout","Math","random","function_arr","all","map","f","c","get_user","sleep","console","log","status","data","id","get_config","is_show_shop","get_shop","userId","example","arr","resolve_all","result","shops","is_boolean","get_shop_result"],"mappings":"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","file":"resolve_all.f7bdd127.js","sourceRoot":"..","sourcesContent":["let _config = { lang: \"en\" };\n\nexport default class Common {\n  constructor(days, hours, minutes) {\n    this.config = { lang: \"en\" };\n    this.days = this.is_number(days) ? days : 0;\n    this.hours = this.is_number(hours) ? hours : 0;\n    this.minutes = this.is_number(minutes) ? minutes : 0;\n  }\n\n  //CORE\n  add_subtract(value, direction) {\n    this.days = this.days + value * direction;\n  }\n  add(value) {\n    this.add_subtract(value, 1);\n    return this;\n  }\n  subtract(value) {\n    this.add_subtract(value, -1);\n    return this;\n  }\n\n  //CHECKING\n  is_undefined(input) {\n    return input === void 0;\n  }\n  is_null_undefined(input) {\n    return input == null;\n  }\n  is_number(input) {\n    return (\n      typeof input === \"number\" ||\n      Object.prototype.toString.call(input) === \"[object Number]\"\n    );\n  }\n  is_boolean(input) {\n    return typeof input === \"boolean\";\n  }\n\n  //CONFIG\n  lang(value) {\n    _config.lang = value;\n    return this;\n  }\n\n  //DISPLAY\n  format() {\n    return _config.lang === \"chn\"\n      ? `${this.days}日${this.hours}小時${this.minutes}分`\n      : `${this.days}-${this.hours}-${this.minutes}`;\n  }\n\n  sleep() {\n    return new Promise((resolve) => setTimeout(resolve, Math.random() * 1000));\n  }\n\n  async resolve_all(function_arr) {\n    return await Promise.all(function_arr.map((f) => f()));\n  }\n}\n","import Common from \"./functions/common\";\r\nlet c = new Common();\r\n\r\n//Goal:\r\n//1. API order dependency (for common usage)\r\n\r\n//trigger function after resolve array of function\r\n//eg: A, B has diff resolve time\r\n//C must be triggered whenever AB are both resolved\r\n\r\nconst get_user = async () => {\r\n  await c.sleep();\r\n  console.log(\"get_user finish\");\r\n  return { status: \"Success\", data: { id: 1 } };\r\n};\r\nconst get_config = async () => {\r\n  await c.sleep();\r\n  console.log(\"get_config finish\");\r\n  return { status: \"Success\", data: { is_show_shop: false } };\r\n};\r\nconst get_shop = async (userId) => {\r\n  await c.sleep();\r\n  console.log(\"get_shop finish\");\r\n  return { status: \"Success\", data: [userId] };\r\n};\r\n\r\nconst example = async () => {\r\n  const arr = [get_user, get_config];\r\n  const result = await c.resolve_all(arr);\r\n  console.log(result);\r\n\r\n  let shops = [];\r\n  let is_show_shop = false;\r\n  is_show_shop =\r\n    result[1].status === \"Success\" &&\r\n    c.is_boolean(result[1].data?.is_show_shop);\r\n\r\n  if (is_show_shop) {\r\n    let userId = (result[0].status = \"Success\" && result[0].data?.id);\r\n    let get_shop_result = await get_shop(userId);\r\n    if (get_shop_result.status === \"Success\") {\r\n      shops = get_shop_result.data;\r\n    }\r\n  }\r\n\r\n  console.log(`shops: ${shops}`);\r\n};\r\n\r\nexport default example;\r\n"]}